{
  "_format": "hh-sol-artifact-1",
  "contractName": "InvoiceRegistry",
  "sourceName": "contracts/InvoiceRegistry.sol",
  "abi": [
    {
      "inputs": [],
      "name": "InvalidAmount",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidInvoice",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvalidToken",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "InvoiceAlreadySettled",
      "type": "error"
    },
    {
      "inputs": [],
      "name": "PayerNotAuthorised",
      "type": "error"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        }
      ],
      "name": "SafeERC20FailedOperation",
      "type": "error"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "issuer",
          "type": "address"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "referenceHash",
          "type": "bytes32"
        }
      ],
      "name": "InvoiceIssued",
      "type": "event"
    },
    {
      "anonymous": false,
      "inputs": [
        {
          "indexed": true,
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        },
        {
          "indexed": true,
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "indexed": false,
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "indexed": false,
          "internalType": "bytes32",
          "name": "referenceHash",
          "type": "bytes32"
        }
      ],
      "name": "InvoiceSettled",
      "type": "event"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "getInvoice",
      "outputs": [
        {
          "components": [
            {
              "internalType": "address",
              "name": "issuer",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "token",
              "type": "address"
            },
            {
              "internalType": "address",
              "name": "payer",
              "type": "address"
            },
            {
              "internalType": "uint256",
              "name": "amount",
              "type": "uint256"
            },
            {
              "internalType": "bool",
              "name": "paid",
              "type": "bool"
            },
            {
              "internalType": "bytes32",
              "name": "referenceHash",
              "type": "bytes32"
            }
          ],
          "internalType": "struct InvoiceRegistry.Invoice",
          "name": "",
          "type": "tuple"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "address",
          "name": "payer",
          "type": "address"
        },
        {
          "internalType": "address",
          "name": "token",
          "type": "address"
        },
        {
          "internalType": "uint256",
          "name": "amount",
          "type": "uint256"
        },
        {
          "internalType": "bytes32",
          "name": "referenceHash",
          "type": "bytes32"
        }
      ],
      "name": "issueInvoice",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [
        {
          "internalType": "uint256",
          "name": "invoiceId",
          "type": "uint256"
        }
      ],
      "name": "settleInvoice",
      "outputs": [],
      "stateMutability": "nonpayable",
      "type": "function"
    },
    {
      "inputs": [],
      "name": "totalInvoices",
      "outputs": [
        {
          "internalType": "uint256",
          "name": "",
          "type": "uint256"
        }
      ],
      "stateMutability": "view",
      "type": "function"
    }
  ],
  "bytecode": "0x6080604052348015600f57600080fd5b5061072f8061001f6000396000f3fe608060405234801561001057600080fd5b506004361061004c5760003560e01c8063154a1aa9146100515780633a23cc0a146100775780635b94446c146100e05780635d7d538a146100f5575b600080fd5b61006461005f366004610661565b6100fd565b6040519081526020015b60405180910390f35b61008a6100853660046106a3565b610326565b6040805182516001600160a01b0390811682526020808501518216908301528383015116918101919091526060808301519082015260808083015115159082015260a0918201519181019190915260c00161006e565b6100f36100ee3660046106a3565b6103fb565b005b600054610064565b60006001600160a01b0384166101265760405163c1ab6dc160e01b815260040160405180910390fd5b826000036101475760405163162908e360e11b815260040160405180910390fd5b6040805160c0810182523381526001600160a01b03868116602083019081528882169383019384526060830187815260006080850181815260a08601898152825460018181018555848052975160069091027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563810180549289166001600160a01b031993841617905595517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648701805491891691831691909117905597517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565860180549190971698169790971790945590517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56683015591517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5678201805491151560ff1990921691909117905592517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5689093019290925590546102c991906106bc565b604080516001600160a01b03878116825260208201879052918101859052919250861690339083907f7e176ef2ab66e6a6d78585d404cf3d1bfdb96b3ea730caef68e24d53c3890f7f9060600160405180910390a4949350505050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905290548210610378576040516349ff0c8f60e11b815260040160405180910390fd5b6000828154811061038b5761038b6106e3565b60009182526020918290206040805160c081018252600690930290910180546001600160a01b039081168452600182015481169484019490945260028101549093169082015260038201546060820152600482015460ff161515608082015260059091015460a082015292915050565b600054811061041d576040516349ff0c8f60e11b815260040160405180910390fd5b6000808281548110610431576104316106e3565b60009182526020909120600690910201600481015490915060ff161561046a576040516365c2160b60e01b815260040160405180910390fd5b60028101546001600160a01b0316801580159061049057506001600160a01b0381163314155b156104ae5760405163112ff0ff60e01b815260040160405180910390fd5b60048201805460ff191660011790556001600160a01b038116156104d257806104d4565b335b6002830180546001600160a01b0319166001600160a01b0392831617905582546003840154600185015461051093908116923392911690610570565b600182015460038301546005840154604080516001600160a01b03909416845260208401929092528282015251339185917f52d7e5385603c078aa536f111f7ce4323a7c2f7777f52f314d1e91450def7f6a9181900360600190a3505050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b1790526105ca9085906105d0565b50505050565b600080602060008451602086016000885af1806105f3576040513d6000823e3d81fd5b50506000513d9150811561060b578060011415610618565b6001600160a01b0384163b155b156105ca57604051635274afe760e01b81526001600160a01b038516600482015260240160405180910390fd5b80356001600160a01b038116811461065c57600080fd5b919050565b6000806000806080858703121561067757600080fd5b61068085610645565b935061068e60208601610645565b93969395505050506040820135916060013590565b6000602082840312156106b557600080fd5b5035919050565b818103818111156106dd57634e487b7160e01b600052601160045260246000fd5b92915050565b634e487b7160e01b600052603260045260246000fdfea264697066735822122055786a19da7f4ab91bad9d4f40f0cf5d4c3fe852def3f16238e3ec8815353d9964736f6c634300081c0033",
  "deployedBytecode": "0x608060405234801561001057600080fd5b506004361061004c5760003560e01c8063154a1aa9146100515780633a23cc0a146100775780635b94446c146100e05780635d7d538a146100f5575b600080fd5b61006461005f366004610661565b6100fd565b6040519081526020015b60405180910390f35b61008a6100853660046106a3565b610326565b6040805182516001600160a01b0390811682526020808501518216908301528383015116918101919091526060808301519082015260808083015115159082015260a0918201519181019190915260c00161006e565b6100f36100ee3660046106a3565b6103fb565b005b600054610064565b60006001600160a01b0384166101265760405163c1ab6dc160e01b815260040160405180910390fd5b826000036101475760405163162908e360e11b815260040160405180910390fd5b6040805160c0810182523381526001600160a01b03868116602083019081528882169383019384526060830187815260006080850181815260a08601898152825460018181018555848052975160069091027f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e563810180549289166001600160a01b031993841617905595517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5648701805491891691831691909117905597517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e565860180549190971698169790971790945590517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e56683015591517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5678201805491151560ff1990921691909117905592517f290decd9548b62a8d60345a988386fc84ba6bc95484008f6362f93160ef3e5689093019290925590546102c991906106bc565b604080516001600160a01b03878116825260208201879052918101859052919250861690339083907f7e176ef2ab66e6a6d78585d404cf3d1bfdb96b3ea730caef68e24d53c3890f7f9060600160405180910390a4949350505050565b6040805160c081018252600080825260208201819052918101829052606081018290526080810182905260a0810182905290548210610378576040516349ff0c8f60e11b815260040160405180910390fd5b6000828154811061038b5761038b6106e3565b60009182526020918290206040805160c081018252600690930290910180546001600160a01b039081168452600182015481169484019490945260028101549093169082015260038201546060820152600482015460ff161515608082015260059091015460a082015292915050565b600054811061041d576040516349ff0c8f60e11b815260040160405180910390fd5b6000808281548110610431576104316106e3565b60009182526020909120600690910201600481015490915060ff161561046a576040516365c2160b60e01b815260040160405180910390fd5b60028101546001600160a01b0316801580159061049057506001600160a01b0381163314155b156104ae5760405163112ff0ff60e01b815260040160405180910390fd5b60048201805460ff191660011790556001600160a01b038116156104d257806104d4565b335b6002830180546001600160a01b0319166001600160a01b0392831617905582546003840154600185015461051093908116923392911690610570565b600182015460038301546005840154604080516001600160a01b03909416845260208401929092528282015251339185917f52d7e5385603c078aa536f111f7ce4323a7c2f7777f52f314d1e91450def7f6a9181900360600190a3505050565b604080516001600160a01b0385811660248301528416604482015260648082018490528251808303909101815260849091019091526020810180516001600160e01b03166323b872dd60e01b1790526105ca9085906105d0565b50505050565b600080602060008451602086016000885af1806105f3576040513d6000823e3d81fd5b50506000513d9150811561060b578060011415610618565b6001600160a01b0384163b155b156105ca57604051635274afe760e01b81526001600160a01b038516600482015260240160405180910390fd5b80356001600160a01b038116811461065c57600080fd5b919050565b6000806000806080858703121561067757600080fd5b61068085610645565b935061068e60208601610645565b93969395505050506040820135916060013590565b6000602082840312156106b557600080fd5b5035919050565b818103818111156106dd57634e487b7160e01b600052601160045260246000fd5b92915050565b634e487b7160e01b600052603260045260246000fdfea264697066735822122055786a19da7f4ab91bad9d4f40f0cf5d4c3fe852def3f16238e3ec8815353d9964736f6c634300081c0033",
  "linkReferences": {},
  "deployedLinkReferences": {}
}
